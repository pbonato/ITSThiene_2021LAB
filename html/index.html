<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- JQUERY -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <title>ITS Thiene LAB Project</title>
    <script>
      function getData() {
        myurl = 'http://46.105.235.75:3000/api/get/98:54:1b:2a:1c:91';
          $.ajax({
            url: myurl, crossDomain : true,success: function (result) {
              if (result.red == true) {
                $('#divred').text('ON ')
                $('#divred').removeClass('btn-danger');
                $('#divred').addClass('btn-success');
              }
              else 
              {
                $('#divred').text('OFF')
                $('#divred').removeClass('btn-success');
                $('#divred').addClass('btn-danger');
              }
              if (result.blue == true) {
                $('#divblue').text('ON ')
                $('#divblue').removeClass('btn-danger');
                $('#divblue').addClass('btn-success');
              }
              else 
              {
                $('#divblue').text('OFF')
                $('#divblue').removeClass('btn-success');
                $('#divblue').addClass('btn-danger');
              }
              if (result.green == true) {
                $('#divgreen').text('ON ')
                $('#divgreen').removeClass('btn-danger');
                $('#divgreen').addClass('btn-success');
              }
              else 
              {
                $('#divgreen').text('OFF')
                $('#divgreen').removeClass('btn-success');
                $('#divgreen').addClass('btn-danger');
              }
            }
      });
    }

      $(document).ready(function () {
        getData();
        setInterval(function () { getData();}, 5000);
        });
    </script>
  </head>
  <body>
      <div class="container-fluid">
          <div class="row">
              <div class="col-12">
                  <div class="h1 text-center">ITS Thiene LAB</div>
              </div>
          </div>
          <div class="row">
            <div class="col-3"><div class="h3">Red</div></div>
            <div class="col"><div class="btn btn-danger" id="divred">...</div></div>
          </div>
          <div class="row">
            <div class="col-3"><div class="h3">Green</div></div>
            <div class="col"><div class="btn btn-danger" id="divgreen">...</div></div>
          </div>
          <div class="row">
            <div class="col-3"><div class="h3">Blue</div></div>
            <div class="col"><div class="btn btn-danger" id="divblue">...</div></div>
          </div>
      </div>
  </body>
</html>
